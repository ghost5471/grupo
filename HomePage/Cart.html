<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loja de Jogos</title>
  <link rel="stylesheet" href="../homePage.css">
  <link rel="stylesheet" href="gamepagestyle.css">
  <link rel="stylesheet" href="../HomePage/Cart.css">
  <script src="../utils/theme.js"></script>
</head>
<body>
  <!-- Cabeçalho com logo, menu e usuário -->
  <div class="container">
  <header>
    <div class="logo">
      <a href="../index.html" aria-label="Página inicial">
        <img src="./img/logoProjeto.png" alt="Logo GameStore">
      </a>
    </div>

    <!-- Menu padrão (visível apenas em telas grandes) -->
    <nav class="main-menu">
      <ul>
        <li><a href="Xbox.html"><img src="./img/logoXbox.png" alt="Xbox" width="30"> <h2>Xbox</h2></a></li>
        <li><a href="Nintendo.html"><img src="./img/LogoNintendo.png" alt="Nintendo" width="30"> <h2>Nintendo</h2></a></li>
        <li><a href="Playstation.html"><img src="./img/LogoPS.png" alt="PlayStation" width="30"> <h2>PlayStation</h2> </a></li>
      </ul>
    </nav>

    <div class="user-info">
      <img src="./img/user.png" alt="Avatar" class="avatar">
      <a href="../HomePage/user.html"><span id="user-name">Usuário</span></a>
    </div>
    
    <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  </header>

  <!-- Menu flutuante para mobile -->
  <div id="floating-menu" class="floating-menu">
    <ul>
      <li><a href="Playstation.html"><img src="./img/LogoPS.png" alt="PlayStation" width="20"> PlayStation</a></li>
      <li><a href="Xbox.html"><img src="./img/logoXbox.png" alt="Xbox" width="20"> Xbox</a></li>
      <li><a href="Nintendo.html"><img src="./img/LogoNintendo.png" alt="Nintendo" width="20"> Nintendo</a></li>
    </ul>
  </div>

 <div class="main-content container">
    <div class="product-grid" id="product-grid">
      <br><br><br>           
    </div>
    <div>
      <button class="btn">Finalizar Compra</button>
    <button class="btn" id="remover" onclick="removerUmItemCarrinho()">Remover ítens</button>
    </div>
</div>

   <footer>
    <p>&copy; 2025 4Players - Todos os direitos reservados. <br> <br>
      Bruno Washington<br><br>
      Carlos Eduardo<br><br>
      Thiago Rocha<br><br>
      Yago Menezes
    </p>
  </footer>
</div>
  <script src="../homePage.js"></script>
  <script src="../HomePage/Cart.js"></script>

   <script>
    // Exibe nome do usuário no header ou "Usuário" se não logado
    const users = JSON.parse(localStorage.getItem('users')) || [];
    const user = users[users.length - 1];
    const userNameSpan = document.getElementById('user-name');
    if (user && user.usuario) {
      userNameSpan.textContent = user.usuario;
    } else {
      userNameSpan.textContent = "Usuário";
    }

    // Redireciona para a tela de usuário e exibe dados conforme login
    document.querySelector('a[href="HomePage/user.html"]').addEventListener('click', function(e) {
      e.preventDefault();
      // Salva flag para a tela de usuário saber se está logado ou não
      if (user && user.usuario) {
        sessionStorage.setItem('userView', 'logged');
      } else {
        sessionStorage.setItem('userView', 'not-logged');
      }
      window.open('HomePage/user.html');
    });
  </script>
</body>
</html>