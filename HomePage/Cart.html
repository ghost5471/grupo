<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loja de Jogos</title>
  <link rel="stylesheet" href="../homePage.css">
  <link rel="stylesheet" href="gamepagestyle.css">
  <link rel="stylesheet" href="../HomePage/Cart.css">
  <script src="../utils/theme.js"></script>
</head>
<body>
  <!-- Cabeçalho com logo, menu e usuário -->
  <div class="container">
  <header>
    <div class="logo">
      <a href="../index.html" aria-label="Página inicial">
        <img src="./img/logoProjeto.png" alt="Logo GameStore">
      </a>
    </div>

    <!-- Menu padrão (visível apenas em telas grandes) -->
    <nav class="main-menu">
      <ul>
        <li><a href="Xbox.html"><img src="./img/logoXbox.png" alt="Xbox" width="30"> <h2>Xbox</h2></a></li>
        <li><a href="Nintendo.html"><img src="./img/LogoNintendo.png" alt="Nintendo" width="30"> <h2>Nintendo</h2></a></li>
        <li><a href="Playstation.html"><img src="./img/LogoPS.png" alt="PlayStation" width="30"> <h2>PlayStation</h2> </a></li>
      </ul>
    </nav>

    <div class="user-info">
      <img src="./img/user.png" alt="Avatar" class="avatar">
      <span>Usuário</span>
    </div>
    
    <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  </header>

  <!-- Menu flutuante para mobile -->
  <div id="floating-menu" class="floating-menu">
    <ul>
      <li><a href="Playstation.html"><img src="./img/LogoPS.png" alt="PlayStation" width="20"> PlayStation</a></li>
      <li><a href="Xbox.html"><img src="./img/logoXbox.png" alt="Xbox" width="20"> Xbox</a></li>
      <li><a href="Nintendo.html"><img src="./img/LogoNintendo.png" alt="Nintendo" width="20"> Nintendo</a></li>
    </ul>
  </div>

 <div class="main-content container">
    <div class="product-grid" id="product-grid">
      <br><br><br>           
    </div>
    <div>
      <button class="btn">Finalizar Compra</button>
    <button class="btn" id="remover" onclick="Remover()">Remover ítens</button>
    </div>
</div>

   <footer>
    <p>&copy; 2025 4Players - Todos os direitos reservados. <br> <br>
      Bruno Washington<br><br>
      Carlos Eduardo<br><br>
      Thiago Rocha<br><br>
      Yago Menezes
    </p>
  </footer>
</div>
  <script src="../homePage.js"></script>
  <script src="/Cart.js"></script>

  <script>
    // Exibe os jogos do carrinho na página Cart.html
    function renderizarCarrinhoJogos() {
      const grid = document.getElementById('product-grid');
      if (!grid) return;

      const carrinhoJogos = JSON.parse(localStorage.getItem('carrinhoJogos')) || [];
      grid.innerHTML = "";

      if (carrinhoJogos.length === 0) {
        grid.innerHTML = "<h1>Seu carrinho está vazio!</h1>";
        return;
      }

      carrinhoJogos.forEach(jogo => {
        // jogo = [nome, preco, imagem]
        const div = document.createElement('div');
        div.className = "produto-carrinho";
        div.style.position = "relative";
        div.innerHTML = `
          <div style="position:relative; border:1px solid #ccc; border-radius:10px; margin:10px; padding:10px; display:flex; align-items:center; gap:20px;">
            <img src="${jogo[2]}" width="100" alt="${jogo[0]}">
            <div style="flex:1;">
              <h3 style="margin:0;">${jogo[0]}</h3>
              <p style="margin:5px 0;">Preço: ${jogo[1]}</p>
            </div>
          </div>
        `;
        grid.appendChild(div);
      });
    }

    // Só executa na página do carrinho
    if (window.location.pathname.toLowerCase().includes('cart.html')) {
      document.addEventListener('DOMContentLoaded', renderizarCarrinhoJogos);
    }

    // Para exibir os jogos na página do carrinho, basta ler carrinhoJogos do localStorage
    // e criar as divs dinamicamente conforme necessário.

  </script>

</body>
</html>